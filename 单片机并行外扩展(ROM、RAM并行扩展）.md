---
title: 单片机并行外扩展(ROM、RAM并行扩展）
---



# 单片机并行外扩展(ROM、RAM并行扩展）

## 一、总线结构
地址总线：n根线有2^n 个地址单元，单向从单片机往外传输。
控制总线：双向
数据总线：一个字节8位，数据总线的位数也是8位，双向。
一个简单的例子就是：``MOV @DPTR,A``和``MOV A,@DPTR``
## 二、ROM扩展
PSEN
## 三、RAM扩展
WR、RD
## Keli uvision
## 数码显示程序思路参考

```
MOV R0,#40H; 取相关数段,为@R0做准备,40H,41H,42H,43H
				;  ->C1,C2,C3,C4四个管子
MOV R2,#01H;
MOV DPTR,#table;
LOOP: MOV A,R2;
		MOV P2,A;
		MOV A,@R0
		MOVC A,@A+DPTR
		MOV P0,A
		LCALL,DELAY
DELAY:
		...
		;延迟2ms
		;指针移动
table : DB C0H,F9H,...;数码管码段
		
```


## 编址技术
ROM扩展需要知道扩展位置在哪，否则就按顺序走（ORG巴拉巴拉）
### 1.线选
RAM扩展图，扩展可读写程序存储器,以6116为例：


| P2.7 | P2.6 | P2.5 | P2.4 | P2.3 | P2.2 | P2.1 | P2.0 | P0 |
| ------- | ------- | -------| ------- | ------- | ------- | ------- | ------- | ------- |
| 1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 00H |
| 1 | 0 | 0 | 1 | 1 | 1 | 1 | 1 | FFH |
| 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 00H |
| 0 | 0 | 0 | 0 | F | F | F | F | 00H |

可以看到地址范围不连续。


## 2. 译码器
 接上条
表格扩展

编程思路：
* 0~F 16十六个数传输给内部RAM
* 内部RAM->A->外部RAM
* 读外部RAM->求和
* 16进制->10进制
* 在四位数码管上显示

作业：花两个6264扩展 用译码器的方法画选址 




一个RAM 和 一个ROM片选是独立。    
NPN三极管 9013
PNP三极管 9012
